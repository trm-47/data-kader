<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pendidikan Kader - Step 3</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* CSS Tambahan agar List Riwayat terlihat Bagus */
        #kaderList {
            margin-top: 15px;
            max-height: 300px;
            overflow-y: auto;
        }
        .required { color: #D71920; }
    </style>
</head>
<body>

<div class="container">
    <div class="progress-container">
        <div class="progress-bar" style="width: 60%"></div>
    </div>

    <div class="form-card">
        <div class="header-form">
            <img src="https://i.ibb.co.com/N2K0XRMW/logo-pdi.png" alt="Logo PDI Perjuangan" class="logo-small">
            <div>
                <h2>Pendidikan Kader</h2>
                <p style="font-size: 12px; color: #64748b;">Riwayat kaderisasi yang pernah diikuti</p>
            </div>
        </div>

        <div class="input-group">
            <label>Jenis Pendidikan Kader <span class="required">*</span></label>
            <select id="jenis_kader" class="input-field">
                <option value="">-- Pilih Pendidikan --</option>
                <option value="Pratama">Kader Pratama</option>
                <option value="Madya">Kader Madya</option>
                <option value="Utama">Kader Utama</option>
                <option value="Guru">Guru Kader</option>
                <option value="Perempuan">Kader Perempuan</option>
                <option value="Khusus">Tema Khusus / Lainnya</option>
            </select>
        </div>

        <div class="input-group">
            <label>Penyelenggara (Struktur) <span class="required">*</span></label>
            <select id="penyelenggara" class="input-field" onchange="updateLabelLokasi()">
                <option value="">-- Pilih Penyelenggara --</option>
                <option value="DPP PDI PERJUANGAN">DPP PDI PERJUANGAN</option>
                <option value="DPD PDI PERJUANGAN">DPD PDI PERJUANGAN</option>
                <option value="DPC PDI PERJUANGAN">DPC PDI PERJUANGAN</option>
                <option value="BADAN/SAYAP PARTAI">BADAN/SAYAP PARTAI</option>
            </select>
        </div>

        <div class="input-group">
            <label id="label_lokasi">Lokasi / Wilayah <span class="required">*</span></label>
            <input type="text" id="lokasi_kader" placeholder="Contoh: BANTUL / JAKARTA" class="input-field">
        </div>

        <div class="input-group">
            <label>Tahun Pendidikan <span class="required">*</span></label>
            <select id="tahun_kader" class="input-field">
                <option value="">-- Pilih Tahun --</option>
            </select>
        </div>

        <button type="button" onclick="addPendidikanKader()" class="btn-outline-sm" style="width: 100%; margin-bottom: 15px; border: 1px solid #D71920; color: #D71920; background: #fff; font-weight: 600;">
            âž• Tambah Pendidikan Kader
        </button>

        <div id="kaderList">
            </div>

        <div class="nav-buttons" style="display: flex; gap: 10px; margin-top: 20px;">
            <button onclick="window.location.href='step2.html'" class="btn-outline-sm" style="flex: 1;">Kembali</button>
            <button onclick="nextStepKader()" class="btn-primary" style="flex: 1;">Lanjut</button>
        </div>
    </div>
</div>

<script src="script.js"></script>
<script>
    // Inisialisasi saat halaman dimuat
    document.addEventListener('DOMContentLoaded', () => {
        // 1. Panggil Dropdown Tahun (Wajib biar muncul isinya)
        if (typeof generateTahunKader === 'function') {
            generateTahunKader();
        }
        
        // 2. Render List yang sudah ada di localStorage
        if (typeof renderKader === 'function') {
            renderKader();
        }

        // 3. Set label lokasi awal
        if (typeof updateLabelLokasi === 'function') {
            updateLabelLokasi();
        }
    });

    function nextStepKader() {
        // Boleh lanjut meski kosong (opsional bagi yang belum ikut kaderisasi)
        window.location.href = 'step4.html';
    }
</script>

</body>
</html>
